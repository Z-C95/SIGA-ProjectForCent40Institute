{% extends "layouts/base_admin.html" %}
{% block title %}Carreras{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h4 mb-0">Carreras</h1>

  <div class="d-flex gap-2">
    <a class="btn btn-primary" href="{% url 'asistencias:crear_carrera' %}">
      <i class="bi bi-plus-lg me-1"></i> Nueva carrera
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'asistencias:admin_cursadas' %}">
      Gestionar cursadas (docentes / alumnos)
    </a>
  </div>
</div>

<table class="table table-bordered table-striped align-middle">
  <thead class="table-dark text-center">
    <tr>
      <th style="width:120px;">Código</th>
      <th>Nombre</th>
      <th style="width:140px;">Acciones</th>
    </tr>
  </thead>
  <tbody>
  {% for c in carreras %}
    <tr>
      <td class="text-center">{{ c.codigo }}</td>
      <td>
        <a href="{% url 'asistencias:carrera_detalle' c.id %}"
           class="text-decoration-none">
          {{ c.nombre }}
        </a>
      </td>
      <td class="text-center">
        <div class="btn-group" role="group" aria-label="Acciones carrera">
          <a href="{% url 'asistencias:carrera_editar' c.id %}"
             class="btn btn-sm btn-outline-primary"
             title="Editar carrera">
            <i class="bi bi-pencil"></i>
          </a>

          <form method="post"
                action="{% url 'asistencias:carrera_eliminar' c.id %}"
                style="display:inline;"
                onsubmit="return confirm('¿Seguro que querés eliminar esta carrera?');">
            {% csrf_token %}
            <button type="submit"
                    class="btn btn-sm btn-outline-danger"
                    title="Eliminar carrera">
              <i class="bi bi-trash"></i>
            </button>
          </form>
        </div>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="3" class="text-center text-muted">No hay carreras registradas.</td></tr>
  {% endfor %}
  </tbody>
</table>

{% endblock %}
